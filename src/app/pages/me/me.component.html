<div class="container py-4">

  @if (me) {

    <!-- Logout -->
    <div class="d-flex justify-content-end mb-3">
      <button
        class="btn btn-outline-danger btn-sm"
        (click)="logout()"
      >
        Logout
      </button>
    </div>

    <div class="row g-4">

      <!-- Profile -->
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body text-center">
            <img
              [src]="me.image"
              [alt]="me.firstName"
              class="rounded-circle border mb-3"
              width="96"
              height="96"
            >

            <h4 class="mb-0">
              {{ me.firstName }} {{ me.lastName }}
            </h4>

            <div class="text-muted">
              {{ me.username }}
            </div>

            <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
              <span class="badge bg-dark">{{ me.role }}</span>
              <span class="badge bg-secondary">{{ me.gender }}</span>
              <span class="badge bg-danger">Blood {{ me.bloodGroup }}</span>
            </div>
          </div>

          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <strong>Email:</strong> {{ me.email }}
            </li>
            <li class="list-group-item">
              <strong>Phone:</strong> {{ me.phone }}
            </li>
            <li class="list-group-item">
              <strong>Birth date:</strong> {{ me.birthDate }}
            </li>
            <li class="list-group-item">
              <strong>Age:</strong> {{ me.age }}
            </li>
          </ul>
        </div>
      </div>

      <!-- Details -->
      <div class="col-lg-8">

        <div class="card mb-4">
          <div class="card-header fw-bold">
            Personal details
          </div>

          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-6">
                <strong>Maiden name:</strong> {{ me.maidenName }}
              </div>
              <div class="col-md-6">
                <strong>Eye color:</strong> {{ me.eyeColor }}
              </div>
              <div class="col-md-6">
                <strong>Height:</strong> {{ me.height }} cm
              </div>
              <div class="col-md-6">
                <strong>Weight:</strong> {{ me.weight }} kg
              </div>
              <div class="col-md-6">
                <strong>Hair:</strong>
                {{ me.hair?.color }} / {{ me.hair?.type }}
              </div>
              <div class="col-md-6">
                <strong>IP:</strong> {{ me.ip }}
              </div>
              <div class="col-md-6">
                <strong>MAC:</strong> {{ me.macAddress }}
              </div>
              <div class="col-md-6">
                <strong>University:</strong> {{ me.university }}
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header fw-bold">
            Address
          </div>

          <div class="card-body">
            <div class="mb-2">
              <div>{{ me.address?.address }}</div>
              <div class="text-muted">
                {{ me.address?.city }},
                {{ me.address?.state }}
                ({{ me.address?.stateCode }})
                {{ me.address?.postalCode }}
              </div>
              <div class="text-muted">
                {{ me.address?.country }}
              </div>
            </div>

            <div class="small text-muted">
              <strong>Coordinates:</strong>
              {{ me.address?.coordinates?.lat }},
              {{ me.address?.coordinates?.lng }}
            </div>
          </div>
        </div>

        <div class="row g-4">

          <!-- Company -->
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header fw-bold">
                Company
              </div>

              <div class="card-body">
                <div class="fw-bold">
                  {{ me.company?.name }}
                </div>
                <div class="text-muted">
                  {{ me.company?.department }}
                </div>

                <div class="mt-2">
                  <strong>Title:</strong> {{ me.company?.title }}
                </div>

                <hr>

                <div class="small">
                  <div>
                    <strong>Address:</strong>
                    {{ me.company?.address?.address }}
                  </div>
                  <div class="text-muted">
                    {{ me.company?.address?.city }},
                    {{ me.company?.address?.state }}
                    ({{ me.company?.address?.stateCode }})
                    {{ me.company?.address?.postalCode }}
                  </div>
                  <div class="text-muted">
                    {{ me.company?.address?.country }}
                  </div>
                  <div class="text-muted">
                    <strong>Coords:</strong>
                    {{ me.company?.address?.coordinates?.lat }},
                    {{ me.company?.address?.coordinates?.lng }}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Bank -->
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header fw-bold">
                Bank
              </div>

              <div class="card-body">
                <div>
                  <strong>Card type:</strong> {{ me.bank?.cardType }}
                </div>
                <div>
                  <strong>Card number:</strong> {{ me.bank?.cardNumber }}
                </div>
                <div>
                  <strong>Expire:</strong> {{ me.bank?.cardExpire }}
                </div>
                <div>
                  <strong>Currency:</strong> {{ me.bank?.currency }}
                </div>
                <div class="mt-2 small text-muted">
                  <strong>IBAN:</strong> {{ me.bank?.iban }}
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Crypto -->
        <div class="card mt-4">
          <div class="card-header fw-bold">
            Crypto
          </div>

          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-4">
                <strong>Coin:</strong> {{ me.crypto?.coin }}
              </div>
              <div class="col-md-4">
                <strong>Network:</strong> {{ me.crypto?.network }}
              </div>
              <div class="col-md-12">
                <strong>Wallet:</strong>
                <span class="text-break">
                  {{ me.crypto?.wallet }}
                </span>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  } @else {
    <div class="alert alert-info m-0">
      Loading...
    </div>
  }

</div>
